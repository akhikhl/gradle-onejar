gradle-onejar
=============

Gradle plugin for generating single jar from java/groovy application.

**Content of this document**

* [Usage](#usage)
* [Tasks](#tasks)
  * [productBuild](#productBuild)
  * [productArchive](#productArchive)
  * [copyExplodedResources](#copyExplodedResources)
  * [run](#run)
  * [debug](#debug)

#Usage:

Add the following to "build.gradle" of your web-application:

```groovy
apply from: 'https://raw.github.com/akhikhl/gradle-onejar/master/pluginScripts/gradle-onejar.plugin'
```

then do "gradle build" from the command-line.

Alternatively, you can download the script from https://raw.github.com/akhikhl/gradle-onejar/master/pluginScripts/gradle-onejar.plugin
to the project folder and include it like this:

```groovy
apply from: 'gradle-onejar.plugin'
```

or feel free copying (and modifying) the declarations from this script to your "build.gradle".

#Tasks

gradle-onejar inserts the following tasks into java/groovy application lifecycle:

![task diagram](https://raw.github.com/akhikhl/gradle-onejar/master/doc/task_diagram.png "Gradle-onejar tasks")

the yellow boxes denote standard java/groovy tasks, the blue boxes denote gradle-onejar tasks.

The tasks copyExplodedResources, productBuild and productArchive are internal - you normally never call them directly.

Below is information on each task.

###productBuild

**Effect:**

The task productBuild archives jar-files of the current project and of all it's dependencies in a special "superjar" denoted by path
"${project.projectDir}/build/output/${project.name}.jar".

Additionally this task creates three files: 

1. "${project.name}..bat" file for launching the program under Windows.
2. "${project.name}.sh" file for launching the program under Linux.
3. "VERSION" file containing version information.

###productArchive

The task productArchive archives the files generated by task productBuild into a single .zip or .tag.gz file.
Exact file extension is chosen depending on the platform. See chapter [multiple configurations](#multiple-configurations) 
for more information.

###copyExplodedResources

The task copyExplodedResources copies additional files to the folder "${project.projectDir}/build/output",
so that these files get packed by task productArchive.

###run

This task starts the application via JavaExec task, passing project classpath and mainclass as task properties.

###debug

This task starts the application via JavaExec task, passing project classpath and mainclass as task properties.
Additionally is sets property "debug" to "true", so that the programmer can debug the application
under NetBeans, Eclipse or any other IDE, supporting java debugging.

